process PEDESTALS = {

service = MessageLogger {
	untracked vstring destinations = { "./event.log", "./error.log", "./debug.log" }
	untracked PSet error_pedestals_insert_pedRuns.log = { string threshold = "ERROR"   PSet default = { int32 limit = -1 bool noLineBreaks = false } }
	untracked PSet event_pedestals_insert_pedRuns.log = { string threshold = "INFO"    PSet default = { int32 limit = -1 bool noLineBreaks = false } }
	untracked PSet debug_pedestals_insert_pedRuns.log = { string threshold = "DEBUG"   PSet default = { int32 limit = -1 bool noLineBreaks = false } }
#	untracked vstring debugModules = { "*" } //@@ uncomment this line for debug statements!
}

service = Timing { }
es_source = SiStripFedCablingFromXml {
        string Label="Fed1"
        string XmlParsedFile="/localscratch/g/gennai/mtcc/fedconnections/tibPisa_example.dat"
}


source = TBRUInputSource
{
        untracked vstring fileNames = { "file:/localscratch/g/gennai/mtcc/runs/RU0512863_000.root" }
        untracked int32 maxEvents =1000 //@@ all events
        #untracked int32 nFeds = 1 # not strictly necessary
}

module RawToDigi = SiStripRawToDigiModule 
{
	string InputModuleLabel = "TBRUInputSource"
	untracked int32 AppendedBytes = 0
       	untracked int32 FedBufferDumpFreq = 0
       	untracked bool  UseFedKey = false #@@ also false seems to be ok
       	untracked int32 TriggerFedId = 1023
}

service = DaqMonitorROOTBackEnd {}

module digimon = SiStripMonitorPedestals
{
                string DigiProducer="RawToDigi"
		string OutPutFileName="prova.root"
                untracked int32 AppendedBytes = 0
                untracked int32 FedBufferDumpFreq = 0
                untracked bool  UseFedKey = true
                untracked int32 TriggerFedId = 1023
                bool OutputMEsInRootFile = true
        PSet PedestalsPSet =
{

string CalculatorAlgorithm = "TT6"
int32 NumCMstripsInGroup =128
int32 MaskCalculationFlag =1
double MaskNoiseCut =3.
double MaskDeadCut = 0.5
double MaskTruncationCut = 0.05
double CutToAvoidSignal =3.
int32 NumberOfEventsForInit = 500
int32 NumberOfEventsForIteration = 300
}

}



path p = { RawToDigi, digimon}
}


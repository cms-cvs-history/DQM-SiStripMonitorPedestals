process PEDESTALS = {
    
  ######## MessageLogger ########
  service = MessageLogger {
    untracked vstring destinations = { "cout"}
    untracked PSet cout = { untracked string threshold = "Error" }
    untracked vstring debugModules   = { "PedsMon"}
  }
    
    # tracker geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------

   es_source siStripCond = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
   replace siStripCond.toGet = {
        { string record = "SiStripPedestalsRcd"  string tag = "SiStripPedestals_TKCC_21X_v3_hlt"} ,
        { string record = "SiStripNoisesRcd"     string tag = "SiStripNoise_TKCC_21X_v3_hlt"} ,
        { string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel_TKCC_21X_v3_hlt"},
        { string record = "SiStripFedCablingRcd" string tag = "SiStripFedCabling_TKCC_21X_v3_hlt"}
    }

    #for oracle access at cern uncomment
    replace siStripCond.connect="oracle://cms_orcoff_prod/CMS_COND_21X_STRIP"
    replace siStripCond.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"

    es_module sistripconn = SiStripConnectivity {}

    include "CalibTracker/SiStripESProducers/data/SiStripQualityESProducer.cfi"
    replace SiStripQualityESProducer.ListOfRecordToMerge = {
       { string record = "SiStripDetCablingRcd" string tag = "" },
       { string record = "SiStripBadChannelRcd" string tag = "" }
    }

    #-----------------------
    ####  Reconstruction Modules
    #-----------------------

    include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"
    replace siStripDigis.ProductLabel = "source"

    #--------------------------
    #### DQM Services
    #--------------------------

    service = DQMStore {
      untracked string referenceFileName = ""
      untracked int32 verbose = 0
    }
    #---------------------------
    #### Pedestal Monitor 
    #---------------------------
 
    include "DQM/SiStripMonitorPedestals/data/SiStripMonitorPedestals.cfi"
    replace PedsMon.OutputMEsInRootFile = true
    include "DQM/SiStripMonitorPedestals/data/SiStripMonitorRawData.cfi"

    #-----------------------------
    #### Scheduling
    #-----------------------------

    sequence RecoForDQM = {
      siStripDigis
    }

    path p = {
        RecoForDQM,
        RawDataMon, 
        PedsMon
    }

    module outPrint = AsciiOutputModule {}
    endpath ep = { outPrint }


    service = AdaptorConfig {}

    source = PoolSource { 
      untracked vstring fileNames = { 
        'rfio:/castor/cern.ch/user/d/dutta/TKCC/49962/USC.00049962.0001.A.storageManager.0.0000.root',
        'rfio:/castor/cern.ch/user/d/dutta/TKCC/49962/USC.00049962.0002.A.storageManager.0.0000.root',
        'rfio:/castor/cern.ch/user/d/dutta/TKCC/49962/USC.00049962.0003.A.storageManager.0.0000.root'
	}
    }
    untracked PSet maxEvents = {untracked int32 input = -1}
}

process PEDESTALS = {
    
    service = MessageLogger {
	untracked vstring destinations = { "./event.log", "./error.log", "./debug.log" }
	untracked PSet error_pedestals_insert_pedRuns.log = { string threshold = "ERROR"   PSet default = { int32 limit = -1 bool noLineBreaks = false } }
	untracked PSet event_pedestals_insert_pedRuns.log = { string threshold = "INFO"    PSet default = { int32 limit = -1 bool noLineBreaks = false } }
	untracked PSet debug_pedestals_insert_pedRuns.log = { string threshold = "DEBUG"   PSet default = { int32 limit = -1 bool noLineBreaks = false } }
	#	untracked vstring debugModules = { "*" } //@@ uncomment this line for debug statements!
    }
    
    
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

    service = LockService{ untracked vstring labels = {"source"} }
    
    es_source = PoolDBESSource {
        VPSet toGet = {{ string record = "SiStripPedestalsRcd" string tag = "SiStripPedNoise_v1_p" }, { string record = "SiStripNoisesRcd" string tag = "SiStripPedNoise_v1_n" }, { string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_v1" }}

        bool loadAll = true
        string connect = "oracle://devdb10/CMS_COND_STRIP"
        untracked string catalog = "relationalcatalog_oracle://devdb10/CMS_COND_GENERAL"
        string timetype = "runnumber"
        untracked uint32 messagelevel = 3
        untracked bool loadBlobStreamer = true
        untracked uint32 authenticationMethod = 1
    }
     
    source = TBRUInputSource
    {
        untracked vstring fileNames = { "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_000.root",
                                        "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_001.root",
                                        "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_002.root",
                                        "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_003.root",
                                        "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_004.root",
                                        "castor:/castor/cern.ch/cms/testbeam/TAC/TIB/run/RU0000572_005.root"}
	untracked int32 maxEvents = -1		// number of events to process (-1 = "all")
	#untracked int32 nFeds = 1 			// overrides number of found FEDs in "RU" file 
    }
    
    include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"
    replace SiStripDigis.UseFedKey =false
    
    service = DaqMonitorROOTBackEnd {}
    
    # can comment out MonitorDeamon if you want to run without DQMCollector - this should go as include in DQMServices
    include "DQM/SiStripMonitorCluster/data/MonitorDaemon.cfi"
    replace MonitorDaemon.DestinationAddress = "localhost.cern.ch"
    
    
     include "DQM/SiStripMonitorPedestals/data/SiStripMonitorPedestals.cfi"
   
    
    path p = { SiStripDigis, PedsMon}
}


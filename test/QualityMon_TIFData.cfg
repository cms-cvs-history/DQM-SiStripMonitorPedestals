process TRACKRECONSTRUCTION = {

    untracked PSet maxEvents = {untracked int32 input = 100}
  #service = Timing{}
   
  ######## MessageLogger ########
  service = MessageLogger {
    untracked vstring destinations = { "error.log", "cout"}
    untracked PSet cout = { untracked string threshold = "Error" }
    untracked vstring debugModules   = { "SiStripZeroSuppression", "SiStripClusterizer"}
  }
  ############ File Input ############
  source = PoolSource {
    untracked vstring fileNames =  {
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_07/tif.00006215.A.testStorageManager_0.0.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_07/tif.00006215.A.testStorageManager_0.1.root'	    
    }

#    untracked int32 maxEvents = 10
    untracked uint32 debugVebosity = 1
    untracked bool   debugFlag     = true
  }


  ############ Access to ORCOFF via Frontier ############
#-------------------------------------------------


#-------------------------------------------------
## CALIBRATION
#-------------------------------------------------

    ## CABLING
    include "CalibTracker/Configuration/data/SiStrip_FrontierCabling.cfi"
    replace siStripFedCabling.toGet={ { string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_pass4_test_v1"} }
    replace siStripFedCabling.connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP"
    replace siStripFedCabling.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"

    ## SiStripQuality
    es_source a = PoolDBESSource {
	string appendToDataLabel = "SiStripBadModule_v1"
	VPSet toGet = {	{ string record = "SiStripBadModuleRcd"  string tag = "SiStripBadModule_TBuffer_VenturiList_v1"} }
	string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP" 
	#string connect = "sqlite_file:dbfile.db"
	string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"	   
 	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
    }

    es_source b = PoolDBESSource {
	string appendToDataLabel = "SiStripBadFiber_v1"
	VPSet toGet = {	{ string record = "SiStripBadFiberRcd"   string tag = "SiStripBadFiber_TBuffer_VenturiList_v1"} }
	string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP" 
	#string connect = "sqlite_file:dbfile.db"
	string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"
     	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
    }

    es_module = SiStripQualityESProducer {
	
	string appendToDataLabel = "test1"

	untracked bool PrintDebug=true
	
	VPSet ListOfRecordToMerge = {
	    { string record = "SiStripBadModuleRcd"  string tag = "SiStripBadModule_v1"} ,
	    { string record = "SiStripBadFiberRcd"   string tag = "SiStripBadFiber_v1"} 
	}    	
    }


  
  ############ Digitization ############
   include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"
   replace SiStripDigis.ProductLabel="source"

   include "RecoLocalTracker/SiStripZeroSuppression/data/SiStripZeroSuppression.cfi"



  ############ Cluster Reconstruction ############
  include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer_RealData.cfi"
  replace siStripClusters.ChannelThreshold    = 2.0
  replace siStripClusters.SeedThreshold       = 3.0
  replace siStripClusters.ClusterThreshold    = 5.0



  ################ MonitorPedestal and Raw Data ################
    # DQM services
    service = DaqMonitorROOTBackEnd{}

    # SiStripMonitorQuality
    include "DQM/SiStripMonitorPedestals/data/SiStripMonitorQuality.cfi"
    replace QualityMon.OutputMEsInRootFile = true
  
  path p = {QualityMon}
}

